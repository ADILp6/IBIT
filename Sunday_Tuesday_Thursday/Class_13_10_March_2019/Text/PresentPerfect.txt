Present Perfect
Rule: 1
You can not use present perfect if you mention time.

Rule: 2 
When action is important than time, then use present perfect else use past simple


The shop has just opened.
The shop opened yesterday.
The shop opened last week.


We can use present perfect for repeated action. It means the action happen again.

Mr. Brown has been to Scotland twice.
Mr. Brown went to Scotland once. 


Present Perfect or Past Simple
The choice depends on whether the speaker sees the action related to present or as in the past

The shop has just opened. // So its open now
The shop opened last week. // Now close. Time is equally important with action.


It has been windy this morning // The morning is not yet over.
It was windy this morning // It is afternoon or evening or later day. Time is important to mention.

It has been windy today. // The day is not yet over.
It was windy today. // The day is over

